---
title: start
---

import { generateDefinition } from "@/lib/tsdoc"

# `start()`

Start/enqueue a new workflow run.

```typescript lineNumbers
import { start } from 'workflow/api';
import { myWorkflow } from './workflows/my-workflow';

const run = await start(myWorkflow); // [!code highlight]
```

## API Signature

### Parameters

<TSDoc
definition={generateDefinition({
  code: `
import { start } from "workflow/api";
export default start;`
})}
showSections={['parameters']}
/>

#### StartOptions

<TSDoc
definition={generateDefinition({
  code: `
import type { StartOptions } from "workflow/api";
export default StartOptions;`
})}
/>

### Returns

Returns a `Run` object:

<TSDoc
definition={generateDefinition({
  code: `
import { Run } from 'workflow/api';
export default Run;`
})}
showSections={['returns']}
/>

## Good to Know

* The `start()` function is used in runtime/non-workflow contexts to programmatically trigger workflow executions.
* This is different from calling workflow functions directly, which is the typical pattern in Next.js applications.
* The function returns immediately after enqueuing the workflow - it doesn't wait for the workflow to complete.
* All arguments must be [serializable](/docs/foundations/serialization).

## Examples

### With Arguments

```typescript
import { start } from 'workflow/api';
import { userSignupWorkflow } from './workflows/user-signup';

const run = await start(userSignupWorkflow, ['user@example.com']); // [!code highlight]
```

### With `StartOptions`

```typescript
import { start } from 'workflow/api';
import { myWorkflow } from './workflows/my-workflow';

const run = await start(myWorkflow, ['arg1', 'arg2'], { // [!code highlight]
  deploymentId: 'custom-deployment-id' // [!code highlight]
}); // [!code highlight]
```

### Idempotent Workflow Creation

You can provide a custom `runId` to enable idempotent workflow creation. If a workflow with the same `runId` already exists, the existing run will be returned instead of creating a duplicate:

```typescript
import { start } from 'workflow/api';
import { processOrderWorkflow } from './workflows/process-order';

// Use a business-specific ID to ensure idempotency
const orderId = 'order_12345';
const customRunId = `wrun_order_${orderId}`;

const run = await start(processOrderWorkflow, [orderId], { // [!code highlight]
  runId: customRunId // [!code highlight]
}); // [!code highlight]

// Calling start again with the same runId returns the existing run
const sameRun = await start(processOrderWorkflow, [orderId], {
  runId: customRunId
});

console.log(run.runId === sameRun.runId); // true
```

This is useful for scenarios like:
- Processing webhook events where duplicate events might be sent
- Ensuring only one workflow runs per business entity (e.g., one order processing workflow per order)
- Retry-safe workflow triggers in distributed systems
